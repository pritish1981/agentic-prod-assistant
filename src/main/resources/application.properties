############################################
# SERVER
############################################

server.port=8080
spring.application.name=agentic-prod-assistant
spring.config.import=optional:file:.env[.properties]


############################################
# OPENAI / SPRING AI
############################################

spring.ai.openai.api-key=${OPENAI_API_KEY}
spring.ai.openai.chat.options.model=gpt-4o-mini
spring.ai.openai.chat.options.temperature=0.2
spring.ai.openai.chat.options.max-tokens=2000

# Embeddings
spring.ai.openai.embedding.options.model=text-embedding-3-large
spring.ai.openai.embedding.options.dimensions=1536

############################################
# ELASTICSEARCH (VECTOR STORE)
############################################

spring.elasticsearch.uris=${ELASTICSEARCH_URL:http://127.0.0.1:9200}

spring.ai.vectorstore.elasticsearch.index-name=prod-incidents
spring.ai.vectorstore.elasticsearch.initialize-schema=true

############################################
# MCP TOOL CONFIG
############################################

jira.base-url=https://your-domain.atlassian.net
jira.token=${JIRA_TOKEN:}

confluence.base-url=https://your-domain.atlassian.net/wiki
confluence.token=${CONF_TOKEN:}

outlook.base-url=https://graph.microsoft.com
outlook.token=${OUTLOOK_TOKEN:}

############################################
# STREAMING
############################################

agentic.streaming.enabled=true
spring.mvc.async.request-timeout=300000

############################################
# GUARDRAILS
############################################

# OpenAI Moderation API (free to use)
# Checks for: hate, harassment, self-harm, sexual, violence
agentic.guardrails.moderation.enabled=true

# Input validation (checks user messages before processing)
agentic.guardrails.input.enabled=true

# RAG Fallback
agentic.rag.faq-fallback-enabled=true

############################################
# MEMORY
############################################

agentic.memory.session-timeout-minutes=30
agentic.memory.max-history=20

############################################
# RAG
############################################

agentic.rag.faq-fallback-enabled=true

############################################
# GUARDRAILS
############################################

agentic.guardrails.enabled=true
agentic.guardrails.min-confidence=0.65

############################################
# LOGGING
############################################

logging.level.root=INFO
logging.level.co.elastic.clients.transport=DEBUG
logging.level.org.elasticsearch.client=DEBUG
logging.level.com.bofa.agentic=DEBUG
logging.level.org.springframework=INFO
logging.level.org.springframework.web=DEBUG
logging.level.org.springframework.web.client=DEBUG

############################################
# ACTUATOR
############################################

management.endpoints.web.exposure.include=health,env,configprops
management.endpoint.env.show-values=NEVER
management.endpoint.configprops.show-values=NEVER
